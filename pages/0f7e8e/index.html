<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL索引原理及应用场景 | benym的知识笔记</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/img/favicon-two.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <meta name="description" content="MySQL索引总结">
    <meta name="keywords" content="Java,benym,blog,knowledge">
    <meta name="theme-color" content="#ff954b">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.a8537680.css" as="style"><link rel="preload" href="/assets/js/app.7da65b61.js" as="script"><link rel="preload" href="/assets/js/2.97c812e5.js" as="script"><link rel="preload" href="/assets/js/92.5584b174.js" as="script"><link rel="preload" href="/assets/js/6.d98d2c99.js" as="script"><link rel="prefetch" href="/assets/js/10.9853697e.js"><link rel="prefetch" href="/assets/js/100.21225358.js"><link rel="prefetch" href="/assets/js/101.d9ab2d05.js"><link rel="prefetch" href="/assets/js/102.3cd48b78.js"><link rel="prefetch" href="/assets/js/103.c09ea1aa.js"><link rel="prefetch" href="/assets/js/104.c8c02af6.js"><link rel="prefetch" href="/assets/js/105.52cd29f6.js"><link rel="prefetch" href="/assets/js/106.5cb7da13.js"><link rel="prefetch" href="/assets/js/107.df23df45.js"><link rel="prefetch" href="/assets/js/108.f20b0f30.js"><link rel="prefetch" href="/assets/js/109.9bb67054.js"><link rel="prefetch" href="/assets/js/11.ca2d9138.js"><link rel="prefetch" href="/assets/js/110.111a638b.js"><link rel="prefetch" href="/assets/js/111.8f8afc83.js"><link rel="prefetch" href="/assets/js/112.757a4959.js"><link rel="prefetch" href="/assets/js/113.a2cecbc5.js"><link rel="prefetch" href="/assets/js/114.ad25d1ea.js"><link rel="prefetch" href="/assets/js/115.ddbdaf6c.js"><link rel="prefetch" href="/assets/js/116.6be5b96e.js"><link rel="prefetch" href="/assets/js/117.8a4694bf.js"><link rel="prefetch" href="/assets/js/118.b270dcbf.js"><link rel="prefetch" href="/assets/js/119.f47e4efd.js"><link rel="prefetch" href="/assets/js/12.d198d965.js"><link rel="prefetch" href="/assets/js/120.345367df.js"><link rel="prefetch" href="/assets/js/121.fd0f7b5b.js"><link rel="prefetch" href="/assets/js/122.3c95f079.js"><link rel="prefetch" href="/assets/js/123.7a4d0a3f.js"><link rel="prefetch" href="/assets/js/124.bf9de739.js"><link rel="prefetch" href="/assets/js/125.d981f47a.js"><link rel="prefetch" href="/assets/js/126.cc2bfbf1.js"><link rel="prefetch" href="/assets/js/127.82423d10.js"><link rel="prefetch" href="/assets/js/128.cfee57ab.js"><link rel="prefetch" href="/assets/js/129.8d6122c9.js"><link rel="prefetch" href="/assets/js/13.da453c0a.js"><link rel="prefetch" href="/assets/js/130.56e42370.js"><link rel="prefetch" href="/assets/js/131.8e1549cd.js"><link rel="prefetch" href="/assets/js/132.7290c22c.js"><link rel="prefetch" href="/assets/js/133.9dded9ab.js"><link rel="prefetch" href="/assets/js/134.e63f8b73.js"><link rel="prefetch" href="/assets/js/135.636d5537.js"><link rel="prefetch" href="/assets/js/136.01d27ae9.js"><link rel="prefetch" href="/assets/js/137.69c34a56.js"><link rel="prefetch" href="/assets/js/138.6345cd27.js"><link rel="prefetch" href="/assets/js/139.46753d5a.js"><link rel="prefetch" href="/assets/js/14.c14eca74.js"><link rel="prefetch" href="/assets/js/140.79f4ed99.js"><link rel="prefetch" href="/assets/js/141.1f4ce18d.js"><link rel="prefetch" href="/assets/js/142.c7d76756.js"><link rel="prefetch" href="/assets/js/143.94182c42.js"><link rel="prefetch" href="/assets/js/144.a755b388.js"><link rel="prefetch" href="/assets/js/145.2edc35bd.js"><link rel="prefetch" href="/assets/js/146.0a5d59a2.js"><link rel="prefetch" href="/assets/js/147.a2aa583c.js"><link rel="prefetch" href="/assets/js/148.60ffd3b6.js"><link rel="prefetch" href="/assets/js/149.0c5ef55d.js"><link rel="prefetch" href="/assets/js/15.32b2ad78.js"><link rel="prefetch" href="/assets/js/150.b690afe0.js"><link rel="prefetch" href="/assets/js/151.2dab8d21.js"><link rel="prefetch" href="/assets/js/152.fb5fa4d0.js"><link rel="prefetch" href="/assets/js/153.f06002cb.js"><link rel="prefetch" href="/assets/js/154.064f36c7.js"><link rel="prefetch" href="/assets/js/155.c7001a89.js"><link rel="prefetch" href="/assets/js/156.79f04fed.js"><link rel="prefetch" href="/assets/js/157.ccb2c1c9.js"><link rel="prefetch" href="/assets/js/158.6986b953.js"><link rel="prefetch" href="/assets/js/159.5eabcbfb.js"><link rel="prefetch" href="/assets/js/16.75fcf71a.js"><link rel="prefetch" href="/assets/js/160.fde71339.js"><link rel="prefetch" href="/assets/js/161.2c07fb78.js"><link rel="prefetch" href="/assets/js/162.4a6e0b88.js"><link rel="prefetch" href="/assets/js/163.5a4849a2.js"><link rel="prefetch" href="/assets/js/164.7ca57bcb.js"><link rel="prefetch" href="/assets/js/165.3c937478.js"><link rel="prefetch" href="/assets/js/166.d4453e35.js"><link rel="prefetch" href="/assets/js/167.1b60b2dc.js"><link rel="prefetch" href="/assets/js/168.082ba541.js"><link rel="prefetch" href="/assets/js/169.badb1975.js"><link rel="prefetch" href="/assets/js/17.71a633a4.js"><link rel="prefetch" href="/assets/js/170.20036ad5.js"><link rel="prefetch" href="/assets/js/171.dcb7154d.js"><link rel="prefetch" href="/assets/js/172.8f6e4a7a.js"><link rel="prefetch" href="/assets/js/173.c50451e7.js"><link rel="prefetch" href="/assets/js/174.a0589591.js"><link rel="prefetch" href="/assets/js/175.3d37226e.js"><link rel="prefetch" href="/assets/js/176.6fc2b0ba.js"><link rel="prefetch" href="/assets/js/177.7b97a175.js"><link rel="prefetch" href="/assets/js/178.1b3db9d2.js"><link rel="prefetch" href="/assets/js/179.0d9659e4.js"><link rel="prefetch" href="/assets/js/18.4a6b0db1.js"><link rel="prefetch" href="/assets/js/180.c441d278.js"><link rel="prefetch" href="/assets/js/181.de2bc72d.js"><link rel="prefetch" href="/assets/js/182.fe9bfb45.js"><link rel="prefetch" href="/assets/js/183.5179649d.js"><link rel="prefetch" href="/assets/js/184.80a4653c.js"><link rel="prefetch" href="/assets/js/185.e8401828.js"><link rel="prefetch" href="/assets/js/186.fc26e9ef.js"><link rel="prefetch" href="/assets/js/187.f4f727d0.js"><link rel="prefetch" href="/assets/js/188.802d5121.js"><link rel="prefetch" href="/assets/js/189.7c9a8e1e.js"><link rel="prefetch" href="/assets/js/19.f30de5fd.js"><link rel="prefetch" href="/assets/js/190.919a8214.js"><link rel="prefetch" href="/assets/js/191.58780618.js"><link rel="prefetch" href="/assets/js/192.b70a4a5f.js"><link rel="prefetch" href="/assets/js/193.8498ffb4.js"><link rel="prefetch" href="/assets/js/194.7ab729d4.js"><link rel="prefetch" href="/assets/js/195.2523ba72.js"><link rel="prefetch" href="/assets/js/196.5b5d8710.js"><link rel="prefetch" href="/assets/js/197.54b87d27.js"><link rel="prefetch" href="/assets/js/198.f56aa135.js"><link rel="prefetch" href="/assets/js/199.50826853.js"><link rel="prefetch" href="/assets/js/20.7709575c.js"><link rel="prefetch" href="/assets/js/200.fb62437e.js"><link rel="prefetch" href="/assets/js/201.238916e7.js"><link rel="prefetch" href="/assets/js/202.cf0cab65.js"><link rel="prefetch" href="/assets/js/203.6da8dbe5.js"><link rel="prefetch" href="/assets/js/204.0ed977a9.js"><link rel="prefetch" href="/assets/js/205.78269c54.js"><link rel="prefetch" href="/assets/js/206.5e063cd9.js"><link rel="prefetch" href="/assets/js/207.5f7ffc25.js"><link rel="prefetch" href="/assets/js/208.1eea42e3.js"><link rel="prefetch" href="/assets/js/209.8bb03325.js"><link rel="prefetch" href="/assets/js/21.1cfaae26.js"><link rel="prefetch" href="/assets/js/210.67e4f4cc.js"><link rel="prefetch" href="/assets/js/211.5ac8f691.js"><link rel="prefetch" href="/assets/js/212.5fbad23e.js"><link rel="prefetch" href="/assets/js/213.ece73b89.js"><link rel="prefetch" href="/assets/js/214.bf56b7a7.js"><link rel="prefetch" href="/assets/js/215.5719300a.js"><link rel="prefetch" href="/assets/js/216.bff094af.js"><link rel="prefetch" href="/assets/js/217.896869a4.js"><link rel="prefetch" href="/assets/js/218.c23e6bd0.js"><link rel="prefetch" href="/assets/js/219.fa250dc0.js"><link rel="prefetch" href="/assets/js/22.b58e6b46.js"><link rel="prefetch" href="/assets/js/220.0783c24d.js"><link rel="prefetch" href="/assets/js/221.d78aa47d.js"><link rel="prefetch" href="/assets/js/222.c4dcf0c2.js"><link rel="prefetch" href="/assets/js/223.1bb52663.js"><link rel="prefetch" href="/assets/js/224.8a9df787.js"><link rel="prefetch" href="/assets/js/225.b56c7d6b.js"><link rel="prefetch" href="/assets/js/226.5dfe1b55.js"><link rel="prefetch" href="/assets/js/227.a34eec50.js"><link rel="prefetch" href="/assets/js/228.80ea352d.js"><link rel="prefetch" href="/assets/js/229.59cc0f7d.js"><link rel="prefetch" href="/assets/js/23.9c60b848.js"><link rel="prefetch" href="/assets/js/230.95b6dcaf.js"><link rel="prefetch" href="/assets/js/231.5cb355eb.js"><link rel="prefetch" href="/assets/js/232.33b37602.js"><link rel="prefetch" href="/assets/js/233.6b2ae1ff.js"><link rel="prefetch" href="/assets/js/234.8ff52c50.js"><link rel="prefetch" href="/assets/js/235.4fbe8694.js"><link rel="prefetch" href="/assets/js/236.2b3f3a29.js"><link rel="prefetch" href="/assets/js/237.697787df.js"><link rel="prefetch" href="/assets/js/238.882aa66e.js"><link rel="prefetch" href="/assets/js/239.96d4fcb6.js"><link rel="prefetch" href="/assets/js/24.1d075c58.js"><link rel="prefetch" href="/assets/js/240.cbe259e8.js"><link rel="prefetch" href="/assets/js/241.8d3e5ce3.js"><link rel="prefetch" href="/assets/js/242.c9755bdf.js"><link rel="prefetch" href="/assets/js/243.e92ecaf3.js"><link rel="prefetch" href="/assets/js/244.b3806484.js"><link rel="prefetch" href="/assets/js/245.ffdd9b21.js"><link rel="prefetch" href="/assets/js/246.ef343e66.js"><link rel="prefetch" href="/assets/js/247.881a3223.js"><link rel="prefetch" href="/assets/js/248.2e4c8492.js"><link rel="prefetch" href="/assets/js/249.b3cc5789.js"><link rel="prefetch" href="/assets/js/25.1be14388.js"><link rel="prefetch" href="/assets/js/250.443b42d1.js"><link rel="prefetch" href="/assets/js/251.8d4b2a00.js"><link rel="prefetch" href="/assets/js/252.57a5c804.js"><link rel="prefetch" href="/assets/js/253.177fa502.js"><link rel="prefetch" href="/assets/js/254.90d7804e.js"><link rel="prefetch" href="/assets/js/255.dac7cc2d.js"><link rel="prefetch" href="/assets/js/256.a092897d.js"><link rel="prefetch" href="/assets/js/257.e128698f.js"><link rel="prefetch" href="/assets/js/258.cabcce3d.js"><link rel="prefetch" href="/assets/js/259.2ff039ec.js"><link rel="prefetch" href="/assets/js/26.19dbb7c1.js"><link rel="prefetch" href="/assets/js/260.9f8892a7.js"><link rel="prefetch" href="/assets/js/261.9938e34c.js"><link rel="prefetch" href="/assets/js/262.a80df374.js"><link rel="prefetch" href="/assets/js/263.1db84dca.js"><link rel="prefetch" href="/assets/js/264.36961f97.js"><link rel="prefetch" href="/assets/js/265.3708f799.js"><link rel="prefetch" href="/assets/js/266.c33807bd.js"><link rel="prefetch" href="/assets/js/267.852cdf16.js"><link rel="prefetch" href="/assets/js/268.8846123e.js"><link rel="prefetch" href="/assets/js/269.b4865a21.js"><link rel="prefetch" href="/assets/js/27.9fc53195.js"><link rel="prefetch" href="/assets/js/270.df790185.js"><link rel="prefetch" href="/assets/js/271.5eb37442.js"><link rel="prefetch" href="/assets/js/272.e261f33f.js"><link rel="prefetch" href="/assets/js/273.6868ec2a.js"><link rel="prefetch" href="/assets/js/274.eb1268b6.js"><link rel="prefetch" href="/assets/js/275.1872e1df.js"><link rel="prefetch" href="/assets/js/276.da4aa1d8.js"><link rel="prefetch" href="/assets/js/277.155b85c0.js"><link rel="prefetch" href="/assets/js/278.b37bafb6.js"><link rel="prefetch" href="/assets/js/279.8a44b9bd.js"><link rel="prefetch" href="/assets/js/28.a4704f8e.js"><link rel="prefetch" href="/assets/js/280.50722df2.js"><link rel="prefetch" href="/assets/js/281.3541c8e5.js"><link rel="prefetch" href="/assets/js/282.dcb10c56.js"><link rel="prefetch" href="/assets/js/283.7fec3174.js"><link rel="prefetch" href="/assets/js/284.58548b11.js"><link rel="prefetch" href="/assets/js/285.f290a488.js"><link rel="prefetch" href="/assets/js/286.8ab5339c.js"><link rel="prefetch" href="/assets/js/287.94133544.js"><link rel="prefetch" href="/assets/js/288.92c8f343.js"><link rel="prefetch" href="/assets/js/289.1b59ed06.js"><link rel="prefetch" href="/assets/js/29.a2b8607e.js"><link rel="prefetch" href="/assets/js/290.d3bbc877.js"><link rel="prefetch" href="/assets/js/291.c2db96cf.js"><link rel="prefetch" href="/assets/js/292.cd41a584.js"><link rel="prefetch" href="/assets/js/293.18e2954f.js"><link rel="prefetch" href="/assets/js/294.af5db796.js"><link rel="prefetch" href="/assets/js/295.9a1442e9.js"><link rel="prefetch" href="/assets/js/296.d9a4f04d.js"><link rel="prefetch" href="/assets/js/297.22fe7d43.js"><link rel="prefetch" href="/assets/js/298.d6b4557b.js"><link rel="prefetch" href="/assets/js/299.4333aae3.js"><link rel="prefetch" href="/assets/js/3.7d266351.js"><link rel="prefetch" href="/assets/js/30.e2275638.js"><link rel="prefetch" href="/assets/js/300.a8fb7021.js"><link rel="prefetch" href="/assets/js/301.9b0918a6.js"><link rel="prefetch" href="/assets/js/302.b3c9b228.js"><link rel="prefetch" href="/assets/js/303.43e31dd1.js"><link rel="prefetch" href="/assets/js/304.e4edeab1.js"><link rel="prefetch" href="/assets/js/305.c6ad990c.js"><link rel="prefetch" href="/assets/js/306.55eca61c.js"><link rel="prefetch" href="/assets/js/307.0ef8cd67.js"><link rel="prefetch" href="/assets/js/308.2ef613b1.js"><link rel="prefetch" href="/assets/js/309.23ad01a5.js"><link rel="prefetch" href="/assets/js/31.c142eca4.js"><link rel="prefetch" href="/assets/js/310.cc769eb0.js"><link rel="prefetch" href="/assets/js/311.4e20e7b5.js"><link rel="prefetch" href="/assets/js/312.c022440c.js"><link rel="prefetch" href="/assets/js/313.1e6a56b1.js"><link rel="prefetch" href="/assets/js/314.1bcbd956.js"><link rel="prefetch" href="/assets/js/315.3f2b058d.js"><link rel="prefetch" href="/assets/js/316.a71d9c9d.js"><link rel="prefetch" href="/assets/js/317.3499dcec.js"><link rel="prefetch" href="/assets/js/32.6814e86e.js"><link rel="prefetch" href="/assets/js/33.f0b7a965.js"><link rel="prefetch" href="/assets/js/34.a5cb6e04.js"><link rel="prefetch" href="/assets/js/35.536324b2.js"><link rel="prefetch" href="/assets/js/36.0b2095dd.js"><link rel="prefetch" href="/assets/js/37.a402f608.js"><link rel="prefetch" href="/assets/js/38.abdf153a.js"><link rel="prefetch" href="/assets/js/39.cd5cc109.js"><link rel="prefetch" href="/assets/js/4.09b1f7c3.js"><link rel="prefetch" href="/assets/js/40.53baf323.js"><link rel="prefetch" href="/assets/js/41.e49e3fc0.js"><link rel="prefetch" href="/assets/js/42.77e56532.js"><link rel="prefetch" href="/assets/js/43.61a5352b.js"><link rel="prefetch" href="/assets/js/44.46a3c642.js"><link rel="prefetch" href="/assets/js/45.eafa64f4.js"><link rel="prefetch" href="/assets/js/46.f0dc3926.js"><link rel="prefetch" href="/assets/js/47.e494de78.js"><link rel="prefetch" href="/assets/js/48.0373df91.js"><link rel="prefetch" href="/assets/js/49.e7774c6a.js"><link rel="prefetch" href="/assets/js/5.6a04feac.js"><link rel="prefetch" href="/assets/js/50.a6781050.js"><link rel="prefetch" href="/assets/js/51.70a3a19a.js"><link rel="prefetch" href="/assets/js/52.8e0b7557.js"><link rel="prefetch" href="/assets/js/53.b0417839.js"><link rel="prefetch" href="/assets/js/54.61dc4790.js"><link rel="prefetch" href="/assets/js/55.b0e6ae59.js"><link rel="prefetch" href="/assets/js/56.9fea1b8a.js"><link rel="prefetch" href="/assets/js/57.e4afc64c.js"><link rel="prefetch" href="/assets/js/58.29677321.js"><link rel="prefetch" href="/assets/js/59.6623e7af.js"><link rel="prefetch" href="/assets/js/60.9f760fb5.js"><link rel="prefetch" href="/assets/js/61.e6204801.js"><link rel="prefetch" href="/assets/js/62.03c6f5b6.js"><link rel="prefetch" href="/assets/js/63.40339666.js"><link rel="prefetch" href="/assets/js/64.c142834d.js"><link rel="prefetch" href="/assets/js/65.126d0a00.js"><link rel="prefetch" href="/assets/js/66.90429673.js"><link rel="prefetch" href="/assets/js/67.8fe86fe8.js"><link rel="prefetch" href="/assets/js/68.eb26265b.js"><link rel="prefetch" href="/assets/js/69.d2440866.js"><link rel="prefetch" href="/assets/js/7.86e2c1e6.js"><link rel="prefetch" href="/assets/js/70.d2dd4b4c.js"><link rel="prefetch" href="/assets/js/71.5210473e.js"><link rel="prefetch" href="/assets/js/72.573b98b1.js"><link rel="prefetch" href="/assets/js/73.c704b6ba.js"><link rel="prefetch" href="/assets/js/74.867db1db.js"><link rel="prefetch" href="/assets/js/75.0afd0bf2.js"><link rel="prefetch" href="/assets/js/76.18cb57e1.js"><link rel="prefetch" href="/assets/js/77.d95ae80f.js"><link rel="prefetch" href="/assets/js/78.5d35626a.js"><link rel="prefetch" href="/assets/js/79.63b87827.js"><link rel="prefetch" href="/assets/js/8.d2f34832.js"><link rel="prefetch" href="/assets/js/80.47e3a6e0.js"><link rel="prefetch" href="/assets/js/81.a6b7187c.js"><link rel="prefetch" href="/assets/js/82.34b18b3f.js"><link rel="prefetch" href="/assets/js/83.cf3851ea.js"><link rel="prefetch" href="/assets/js/84.44b5e0ef.js"><link rel="prefetch" href="/assets/js/85.4aea7124.js"><link rel="prefetch" href="/assets/js/86.99a1305e.js"><link rel="prefetch" href="/assets/js/87.f3de639d.js"><link rel="prefetch" href="/assets/js/88.f6ae2ad3.js"><link rel="prefetch" href="/assets/js/89.375ecf68.js"><link rel="prefetch" href="/assets/js/9.92df87ca.js"><link rel="prefetch" href="/assets/js/90.5950faae.js"><link rel="prefetch" href="/assets/js/91.34df8e58.js"><link rel="prefetch" href="/assets/js/93.58410f95.js"><link rel="prefetch" href="/assets/js/94.1232b4c6.js"><link rel="prefetch" href="/assets/js/95.564b34f8.js"><link rel="prefetch" href="/assets/js/96.3cec45e6.js"><link rel="prefetch" href="/assets/js/97.5c57b252.js"><link rel="prefetch" href="/assets/js/98.29b42bc5.js"><link rel="prefetch" href="/assets/js/99.59822fb9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a8537680.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/guideline-two-left.png" alt="benym的知识笔记" class="logo"> <span class="site-name can-hide">benym的知识笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/pages/225727/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/225727/" class="nav-link">Java-基础</a></li><li class="dropdown-subitem"><a href="/pages/9786e5/" class="nav-link">Java-集合</a></li><li class="dropdown-subitem"><a href="/pages/487c60/" class="nav-link">Java-多线程与并发</a></li><li class="dropdown-subitem"><a href="/pages/0a146e/" class="nav-link">Java-JVM</a></li><li class="dropdown-subitem"><a href="/pages/4aef64/" class="nav-link">Java-IO</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0de67d/" class="nav-link">Python-基础</a></li><li class="dropdown-subitem"><a href="/pages/43f8b9/" class="nav-link">Python-机器学习</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式与中间件" class="dropdown-title"><!----> <span class="title" style="display:;">分布式与中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b53b0f/" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----> <a href="/pages/847591/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/aaed8c/" class="nav-link">分布式事务</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/pages/0f7e8e/" aria-current="page" class="link-title router-link-exact-active router-link-active">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0f7e8e/" aria-current="page" class="nav-link router-link-exact-active router-link-active">MySQL</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/6e0b99/" class="nav-link">SpringIOC</a></li><li class="dropdown-subitem"><a href="/pages/a657d3/" class="nav-link">SpringAOP</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/pages/83cdcf/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/83cdcf/" class="nav-link">剑指Offer</a></li><li class="dropdown-item"><!----> <a href="/pages/b2b5b5/" class="nav-link">LeetCode</a></li><li class="dropdown-item"><!----> <a href="/pages/8d006a/" class="nav-link">排序算法</a></li></ul></div></div><div class="nav-item"><a href="/pages/f6b758/" class="nav-link">实践</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开源项目" class="dropdown-title"><a href="/pages/3147fe/" class="link-title">开源项目</a> <span class="title" style="display:none;">开源项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Rpamis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3147fe/" class="nav-link">Utils</a></li><li class="dropdown-subitem"><a href="/pages/b127c7/" class="nav-link">Exception</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/pages/2c6c1b/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2c6c1b/" class="nav-link">概览</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li></ul></div></div><div class="nav-item"><a href="/pages/059f1f/" class="nav-link">目录</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/benym/benym-book/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/sitelogo3.jpg/zipstyle"> <div class="blogger-info"><h3>benym</h3> <span>惟其艰难，才更显勇毅🍂惟其笃行，才弥足珍贵</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/pages/225727/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/225727/" class="nav-link">Java-基础</a></li><li class="dropdown-subitem"><a href="/pages/9786e5/" class="nav-link">Java-集合</a></li><li class="dropdown-subitem"><a href="/pages/487c60/" class="nav-link">Java-多线程与并发</a></li><li class="dropdown-subitem"><a href="/pages/0a146e/" class="nav-link">Java-JVM</a></li><li class="dropdown-subitem"><a href="/pages/4aef64/" class="nav-link">Java-IO</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0de67d/" class="nav-link">Python-基础</a></li><li class="dropdown-subitem"><a href="/pages/43f8b9/" class="nav-link">Python-机器学习</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式与中间件" class="dropdown-title"><!----> <span class="title" style="display:;">分布式与中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b53b0f/" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----> <a href="/pages/847591/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/aaed8c/" class="nav-link">分布式事务</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/pages/0f7e8e/" aria-current="page" class="link-title router-link-exact-active router-link-active">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0f7e8e/" aria-current="page" class="nav-link router-link-exact-active router-link-active">MySQL</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/6e0b99/" class="nav-link">SpringIOC</a></li><li class="dropdown-subitem"><a href="/pages/a657d3/" class="nav-link">SpringAOP</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/pages/83cdcf/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/83cdcf/" class="nav-link">剑指Offer</a></li><li class="dropdown-item"><!----> <a href="/pages/b2b5b5/" class="nav-link">LeetCode</a></li><li class="dropdown-item"><!----> <a href="/pages/8d006a/" class="nav-link">排序算法</a></li></ul></div></div><div class="nav-item"><a href="/pages/f6b758/" class="nav-link">实践</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开源项目" class="dropdown-title"><a href="/pages/3147fe/" class="link-title">开源项目</a> <span class="title" style="display:none;">开源项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Rpamis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3147fe/" class="nav-link">Utils</a></li><li class="dropdown-subitem"><a href="/pages/b127c7/" class="nav-link">Exception</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/pages/2c6c1b/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/2c6c1b/" class="nav-link">概览</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li></ul></div></div><div class="nav-item"><a href="/pages/059f1f/" class="nav-link">目录</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/benym/benym-book/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MySQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/0f7e8e/" aria-current="page" class="active sidebar-link">MySQL索引原理及应用场景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/0f7e8e/#什么是索引" class="sidebar-link">什么是索引</a></li><li class="sidebar-sub-header level2"><a href="/pages/0f7e8e/#索引分类" class="sidebar-link">索引分类</a></li><li class="sidebar-sub-header level2"><a href="/pages/0f7e8e/#索引数据结构" class="sidebar-link">索引数据结构</a></li><li class="sidebar-sub-header level2"><a href="/pages/0f7e8e/#b-tree的查询过程" class="sidebar-link">B+Tree的查询过程</a></li><li class="sidebar-sub-header level2"><a href="/pages/0f7e8e/#聚簇索引与非聚簇索引" class="sidebar-link">聚簇索引与非聚簇索引</a></li><li class="sidebar-sub-header level2"><a href="/pages/0f7e8e/#索引优化" class="sidebar-link">索引优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/0f7e8e/#回表" class="sidebar-link">回表</a></li><li class="sidebar-sub-header level3"><a href="/pages/0f7e8e/#索引覆盖" class="sidebar-link">索引覆盖</a></li><li class="sidebar-sub-header level3"><a href="/pages/0f7e8e/#联合索引" class="sidebar-link">联合索引</a></li><li class="sidebar-sub-header level3"><a href="/pages/0f7e8e/#最左前缀原则" class="sidebar-link">最左前缀原则</a></li><li class="sidebar-sub-header level3"><a href="/pages/0f7e8e/#索引下推" class="sidebar-link">索引下推</a></li><li class="sidebar-sub-header level3"><a href="/pages/0f7e8e/#索引分析-执行计划" class="sidebar-link">索引分析—执行计划</a></li><li class="sidebar-sub-header level3"><a href="/pages/0f7e8e/#索引失效场景" class="sidebar-link">索引失效场景</a></li><li class="sidebar-sub-header level4"><a href="/pages/0f7e8e/#使用原则" class="sidebar-link">使用原则</a></li><li class="sidebar-sub-header level4"><a href="/pages/0f7e8e/#失效场景" class="sidebar-link">失效场景</a></li><li class="sidebar-sub-header level3"><a href="/pages/0f7e8e/#小表驱动大表" class="sidebar-link">小表驱动大表</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/0f7e8e/#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header level2"><a href="/pages/0f7e8e/#参考文章" class="sidebar-link">参考文章</a></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>数据库</span></li><li data-v-06225672><span data-v-06225672>MySQL</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/benym" target="_blank" title="作者" class="beLink" data-v-06225672>benym</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-08-02</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">MySQL索引原理及应用场景<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="什么是索引"><a href="#什么是索引" class="header-anchor">#</a> 什么是索引</h2> <p>在工作当中，涉及到MySQL的查询，我们经常会遇到给某个表某个字段加索引的诉求，加上索引能够让我们的sql得到查询速度上的提升。但索引的原理是什么呢，他又是怎么工作的，需要开发者对基础知识有一定的了解。</p> <h2 id="索引分类"><a href="#索引分类" class="header-anchor">#</a> 索引分类</h2> <p>索引通过特定的一些数据结构，将数据组织有序，将随机I/O变为顺序I/O，有效减少查询一条数据所需要扫描的数据量，加快查询的速度。</p> <p>从使用者的角度而言，MySQL索引主要为以下几种。</p> <p><strong>主键索引</strong></p> <p>根据数据表主键建立的索引，不允许重复和空值。主键索引列全表唯一</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token string">'table_name'</span> <span class="token keyword">add</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> pk_index_name<span class="token punctuation">(</span><span class="token string">'col_name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>唯一索引</strong></p> <p>用于确保建立索引列内的值是唯一的，允许空值。比如同样为age字段，不能出现2个age为10的数据</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token string">'table_name'</span> <span class="token keyword">add</span> <span class="token keyword">unique</span> unique_index_name<span class="token punctuation">(</span><span class="token string">'col_name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>普通索引</strong></p> <p>用于表中的普通列构建的索引，没有特殊限制</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token string">'table_name'</span> <span class="token keyword">add</span> <span class="token keyword">index</span> index_name<span class="token punctuation">(</span><span class="token string">'col_name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>联合索引</strong></p> <p>采用多个列组合构建的索引，用于组合搜索</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token string">'table_name'</span> <span class="token keyword">add</span> <span class="token keyword">index</span> index_name<span class="token punctuation">(</span><span class="token string">'col1_name'</span><span class="token punctuation">,</span><span class="token string">'col2_name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>全文索引</strong></p> <p>用于大文本对象的列构建索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token string">'table_name'</span> <span class="token keyword">add</span> fulltext <span class="token keyword">index</span> full_index_name<span class="token punctuation">(</span><span class="token string">'col_name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>空间索引</strong></p> <p>用于GIS地图数据的索引，MySQL中的空间数据类型有GEOMETRY、POINT、LINESTRING、POLYGON</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token string">'table_name'</span> <span class="token keyword">add</span> spatial <span class="token keyword">index</span> spa_index_name<span class="token punctuation">(</span><span class="token string">'col_name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="索引数据结构"><a href="#索引数据结构" class="header-anchor">#</a> 索引数据结构</h2> <p>根据数据结构的不同，MySQL的索引可分为<code>哈希索引</code>、<code>BTree索引</code>、<code>B+Tree索引</code>。</p> <p><strong>哈希索引</strong></p> <p>哈希索引通过hash表实现，通过将hash函数计算出的hash值存储在索引中，来完成key-value的快速查询</p> <p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-hash.png" alt=""></p> <p>通常而言当发生hash碰撞之后(即两个key在经过hash函数之后值为同一个)，采用链地址法解决冲突，如上图中小刘到小王的连接线，获取key找到索引地址之后，顺序遍历地址内的链表，获得最终结果。</p> <p>哈希索引的特点和hashmap类似，适合于精确查找，但不适合范围查找，hash码并不具有规律性，所以存储hash索引时顺序性是无法保障的。</p> <p><strong>BTree索引</strong></p> <p>关于平衡二叉搜索树的概念和意义可以详见我的另一篇文章👉<a href="https://cloud.benym.cn/benym-book/pages/2efaaf/" target="_blank" rel="noopener noreferrer">二叉搜索树及AVL树详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>B树实际上是一棵多叉平衡搜索树。其具有以下特点</p> <div class="custom-block note"><p class="custom-block-title">笔记</p> <p>根节点左侧数值小于根节点，根节点右侧数值大于根节点</p> <p>每个叶子节点高度一致</p> <p>指针p存储节点的地址信息</p> <p>非叶子节点为[key,data]二元组，其中key表示作为索引的键，data为key值所在行的数据</p></div> <p>B树的结构如下图所示</p> <p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-btree.png" alt=""></p> <p>在B树的结构图中，可以发现每个节点不仅仅包含数据的Key值，还有data值。</p> <p>而每页的存储空间是有限的，如果data比较大，会导致每个节点的Key存储较少。</p> <p>当数据量扩大时，B树只能往下进行分裂，导致树深的增高，增加了磁盘I/O的次数，影响查询效率。</p> <p><strong>B+Tree索引</strong></p> <p>为了解决B树的效率问题，B+树做了如下改进</p> <div class="custom-block note"><p class="custom-block-title">笔记</p> <p>非叶子节点只存储键值信息，不再存储数据</p> <p>所有叶子节点之间都有一个链指针，指向下一个叶子节点</p> <p>数据都存放在叶子节点中</p></div> <p>B+树的结构如下图所示</p> <p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-b%2Btree.png" alt=""></p> <p>为了更详细的描述B+树，图中的指针写明了存储的磁盘块名称，最底下一层含有数据的磁盘块被称为<strong>数据页</strong>，数据页之间通过双向链表进行连接，非叶子节点的磁盘块被称为<strong>索引页</strong></p> <p>将上图中磁盘块2与磁盘块5、6、7拿出来进行细分，我们展开各磁盘块，查看单个磁盘块内数据的排列方式</p> <p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-b%2Btree-data.png" alt=""></p> <p>MySQL在存储数据时以数据页为最小单位，且数据在数据页中的存储是<strong>连续</strong>的，数据页中的数据是按照主键排序(如没有主键则由MySQL自身维护的ROW_ID排序)，而数据页与数据页之间则采用<strong>双向链表</strong>关联，数据与数据之间通过<strong>单向链表</strong>关联。</p> <p>在每个数据页中，必然存在最小主键，每个数据页的最小主键+磁盘块地址会形成一个主键目录，多个主键目录会形成一个索引页(如磁盘块2结构所示)。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>索引页的出现就是为了解决数据页记录过多，导致主键目录特别大，影响二分查找效率的问题。</p> <p>与数据页类似，如果一张数据页/索引页存储空间不够，则继续分裂到下一张，即结构图中展示的磁盘块1、2、3、4均为索引页</p></div> <p><strong>那么索引页和数据页到底是多大的大小呢</strong>？</p> <p>引用一下网络中的解释</p> <blockquote><p>计算机在存储数据的时候，最小存储单元是扇区，一个扇区的大小是 512 字节，而文件系统（例如 XFS/EXT4）最小单元是块，一个块的大小是 4KB。InnoDB 引擎存储数据的时候，是以页为单位的，每个数据页的大小默认是 16KB，即四个块。</p></blockquote> <p>基于该理论，我们可以大致算出B+树能够存储的数据。</p> <p>假设数据库中一条记录是<code>1KB</code>，那么一个页就可以存<code>16</code>条数据（叶子结点）；对于非叶子结点存储的则是键值+指针，在InnoDB中，一个指针的大小是<code>6</code>个字节，假设我们的主键是bigint ，那么主键占<code>8</code>个字节，忽略一些其他的头信息大小，大致计算可以得到：</p> <div class="center-container"><p><code>16*1024/(8+6)=1170</code></p></div><p>即一个非叶子节点可以指向1170个页，那么一个三层的B+树可以存储的数据量为：</p> <div class="center-container"><p><code>1170*1170*16=21902400</code></p></div><p>大约2100万条数据。</p> <p>在InnoDB存储引擎中，B+树的高度一般为2-4 层，这就可以满足千万级的数据的存储，查找数据的时候，一次页的查找代表一次I/O，那我们通过主键索引查询的时候，其实最多只需要2-4次I/O操作就可以了。</p> <h2 id="b-tree的查询过程"><a href="#b-tree的查询过程" class="header-anchor">#</a> B+Tree的查询过程</h2> <p>还是基于B+树的结构图</p> <p>假设我们要查询<code>key=16</code>的数据，通过最顶层索引页的条件，我们知道需要从磁盘块2的索引页进行查询。</p> <p>依次比较磁盘块2中的<code>key</code>值，能够知道<code>key&gt;=12</code>的数据均在<code>p6</code>指针指向的磁盘块内。</p> <p>于是我们可以定位到磁盘块7对应的数据页，通过顺序遍历数据页内的单向链表，最终找到<code>key=16</code>对应的<code>data</code>数据行。</p> <h2 id="聚簇索引与非聚簇索引"><a href="#聚簇索引与非聚簇索引" class="header-anchor">#</a> 聚簇索引与非聚簇索引</h2> <p>作为非常高频的知识点，这两种索引通常会有如下解释</p> <div class="custom-block note"><p class="custom-block-title">笔记</p> <p>聚簇索引的叶子节点存储的是键值对应的数据本身</p> <p>非聚簇索引的叶子节点存储的是键值对应的数据的主键键值</p></div> <p>在Innodb中聚簇索引一般默认以主键建立，也称为<strong>主键索引</strong></p> <p>非聚簇索引则以其他非主键字段建立，也称为<strong>辅助索引</strong></p> <p>以下列数据表为例</p> <div class="center-container"><p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-table.png" alt=""></p></div><p>如果采用聚簇索引的存储方式(主键为ID)，则对应的索引结构为</p> <p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-clus.png" alt=""></p> <p>可以看出<strong>聚簇索引的数据和索引存储在一起</strong>，根据Id索引能够找到对应的数据行，比如<code>where Id = 7</code>这样的条件，聚簇索引能够查到对应主键，获得对应的叶子节点上的行数据。</p> <p>如果以Name字段建立索引，则对应的辅助索引结构为</p> <p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-noclus.png" alt=""></p> <p>可以看出<strong>非聚簇索引的数据和索引，并非存储在一起</strong>，根据Name索引只能找到Name对应的主键Id，比如<code>where Name = 张三</code>，非聚簇索引需要通过<strong>两个步骤</strong>才能获取行数据。</p> <ul><li><p>第一步，在非聚簇索引的B+树中查询对应Name，获得叶子节点上匹配的Name的主键。</p></li> <li><p>第二步，根据匹配的主键Id在聚簇索引B+树上再执行一次检索，获取叶子节点上的行数据。</p></li></ul> <p>整个过程可如下图所示</p> <p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-search.png" alt=""></p> <p>两者的主要区别在于<strong>非聚簇索引会多一次查询聚簇索引的过程</strong></p> <h2 id="索引优化"><a href="#索引优化" class="header-anchor">#</a> 索引优化</h2> <h3 id="回表"><a href="#回表" class="header-anchor">#</a> 回表</h3> <p><strong>回表是什么</strong>？</p> <p>假设有如下Sql执行</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'张三'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>由于查询键为name，所以查询时走辅助索引树，很快就定位到了<code>Name=张三</code>的叶子节点，但由于查询条件为<code>select *</code>，辅助索引树中并没有包含全表字段，所以会再次根据<code>Name=张三</code>的主键Id查询主键索引树。</p> <p>这个过程和刚才非聚簇索引的查询过程相同，通过辅助索引查询到字段，但仍需要走主键索引补全select信息的过程，叫做<strong>回表</strong>。</p> <h3 id="索引覆盖"><a href="#索引覆盖" class="header-anchor">#</a> 索引覆盖</h3> <p>索引覆盖就是执行的sql查询的字段刚好可以命中索引，不需要额外回表</p> <p>例如</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> id <span class="token keyword">from</span> student <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样的查询能够命中索引，且索引字段和查询字段匹配</p> <p>而例如</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> id<span class="token punctuation">,</span> name <span class="token keyword">from</span> student <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样的查询则会回表</p> <h3 id="联合索引"><a href="#联合索引" class="header-anchor">#</a> 联合索引</h3> <p>作为下文的基础，这里先说一下联合索引。</p> <p>假设现在有如下场景，按照市民的身份证号去查询他的家庭地址，这个查询需求在业务中出现的概率不高，但我们也不能让他直接走全表扫描。</p> <p>如果单独的为一个不频繁的查询请求创建一个索引，感觉又有点浪费资源，这时候就可以通过建立联合索引，减少开销。</p> <p>假设以数据库的<code>a</code>字段和<code>b</code>字段建立联合索引，<code>a</code>和<code>b</code>均为<code>int</code>类型字段</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token string">'table_name'</span> <span class="token keyword">add</span> <span class="token keyword">index</span> index_name<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>则生成的联合索引B+树会以联合索引字段共同建立，即联合索引的键值对大于1个</p> <div class="center-container"><p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-unindex.png" alt=""></p></div><p>将索引的叶子节点按照字段拿出来进行分析，从左至右</p> <p>a的顺序为: 1, 1, 2, 2, 3, 3</p> <p>b的顺序为: 1, 2, 1, 4, 1, 2</p> <p>大家可以发现<code>a</code>字段是有序排列，<code>b</code>字段是无序排列(因为B+树只能选择一个字段来构建有序的树)</p> <p>同时通过观察还可以发现，<strong>在a相等的情况下，b字段是有序的</strong>，即此时<code>a=1</code>时，<code>b=1，2</code>，b保持相对有序。</p> <p>在平时的sql中，我们经常会有个共识，当要对两个字段进行排序时，首先会按照第一个字段排序，如果第一个字段相等，则用第二个字段排序。</p> <p>这种共识的原理就是因为，联合多字段建树时B+树的独特构建方式。</p> <h3 id="最左前缀原则"><a href="#最左前缀原则" class="header-anchor">#</a> 最左前缀原则</h3> <p>有了联合索引的概念，最左前缀原则就好理解了，由于B+树的建树方式，只有叶子节点存储数据，且叶子节点从左往右排序保持顺序，是最左前缀匹配的根本原因。</p> <p>如果要查询<code>a</code>字段所有以<code>1</code>开头的数据，则对应的<code>SQL</code>条件为<code>where a like '1%'</code>。这个时候索引能够用上，查找到第一个符合条件的记录为<code>ID-1</code>,然后一直向后遍历，直到不满足条件为止。</p> <p>再举一个能走联合索引的例子，如<code>select * from student where a=1 and b=2</code>。</p> <ul><li>首先a字段在B+树上是有序的，所以我们通过二分查找来定位到a=1的位置，其次在a确定的情况下，b是相对有序的。因为有序，所以我们同样可以通过二分查找找到b=2的位置。此时索引是有效的。</li></ul> <p>再举一个不能走联合索引的例子，如<code>select * from student where b=2</code>。</p> <ul><li>b字段有序的前提是：在a确定的情况下，现在查询条件中并没有规定a的范围，所以也无法确定b的顺序，在一棵无序的B+树上是无法用二分查找来定位到b字段的，这个时候索引失效。</li></ul> <h3 id="索引下推"><a href="#索引下推" class="header-anchor">#</a> 索引下推</h3> <p>最左前缀可以用在索引中定位记录，那么那些不符合最左前缀的部分会怎么样呢？</p> <p>还是以联合索引(a, b)为例，假设现在表内有<code>a,b,c,d...</code>多个字段，如果现在有一个需求：检索出表中a字段第一个数字为1，且b字段为2，c字段为3的所有数据。那么这条Sql语句则是这么写的：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> a <span class="token operator">like</span> <span class="token string">'1%'</span> <span class="token operator">and</span> b<span class="token operator">=</span><span class="token number">2</span> <span class="token operator">and</span> c<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>根据前缀规则，这个语句在搜索索引树时，只能用<code>1</code>，找到第一个满足条件的记录<code>ID-1</code>。</p> <p>之后则需要判断其他条件是否满足。在MySQL5.6之前，只能从ID1开始一个个回表。到主键索引上找出数据行，再对比字段值。</p> <p>而MySQL5.6引入的索引下推优化(index condition pushdown)，可以在索引遍历过程中，对索引中包含的字段先做判断，直接过滤掉不满足条件的记录，减少回表次数。</p> <p>这两个过程可如下图所示。</p> <p>无索引下推过程，均需要回表</p> <div class="center-container"><p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-nounder.png" alt=""></p></div><p>索引下推过程</p> <div class="center-container"><p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-under.png" alt=""></p></div><p>在这两个图中，每个箭头表示回表一次</p> <p>在无索引下推过程中，InnoDB只需要观察<code>a</code>字段的值，按顺序把<code>a</code>字段第一个数值为<code>1</code>的记录一条条取出来进行回表，所以总计需要回表2次。</p> <p>索引下推过程的区别在于，InnoDB在(a, b)索引内部就判断了<code>b</code>字段是否等于2，对于不等于2的记录，直接判断并跳过。在这个例子中，只需要对ID-2这一条记录回表取数据判断，只需要回表1次。</p> <h3 id="索引分析-执行计划"><a href="#索引分析-执行计划" class="header-anchor">#</a> 索引分析—执行计划</h3> <p>说了这么多，对于一条SQL，我们分析的思路应该是怎么样的呢？</p> <p>MySQL提供了<code>explain</code>命令，可以用于对SQL的分析，根据分析出的结果，开发者可以针对性的进行优化</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>后续操作基于如下数据表</p></div> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> testIndex<span class="token punctuation">.</span>t_users
<span class="token punctuation">(</span>
	id <span class="token keyword">bigint</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">'自增ID'</span>
		<span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
	name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
	sex <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'性别，0女，1男'</span><span class="token punctuation">,</span>
	age <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'年龄'</span><span class="token punctuation">,</span>
	info json <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'信息'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> testIndex<span class="token punctuation">.</span>t_users <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> age<span class="token punctuation">,</span> info<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">'{&quot;text&quot;: &quot;我是张三&quot;}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> testIndex<span class="token punctuation">.</span>t_users <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> age<span class="token punctuation">,</span> info<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">'{&quot;text&quot;: &quot;我是李四&quot;}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> testIndex<span class="token punctuation">.</span>t_users <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> age<span class="token punctuation">,</span> info<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">'{&quot;text&quot;: &quot;我是王五&quot;}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>如何使用</strong>？</p> <p>在需要执行的SQL前加上<code>explain</code>命令执行即可，如：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_users <span class="token keyword">where</span> id <span class="token operator">&lt;</span> <span class="token number">2</span> \G<span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token number">1.</span> <span class="token keyword">row</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
           id: <span class="token number">1</span>
  select_type: <span class="token keyword">SIMPLE</span>
        <span class="token keyword">table</span>: t_users
   partitions: <span class="token boolean">NULL</span>
         <span class="token keyword">type</span>: range
possible_keys: <span class="token keyword">PRIMARY</span>
          <span class="token keyword">key</span>: <span class="token keyword">PRIMARY</span>
      key_len: <span class="token number">8</span>
          ref: <span class="token boolean">NULL</span>
         <span class="token keyword">rows</span>: <span class="token number">1</span>
     filtered: <span class="token number">100.00</span>
        Extra: <span class="token keyword">Using</span> <span class="token keyword">where</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>在explain输出的内容中，重点关注<code>select_type</code>，<code>type</code>，<code>key</code>，<code>rows</code>，<code>Extra</code></p> <ol><li>select_type: 表示查询类型, 常见值表格如下</li></ol> <div class="center-container"><table><thead><tr><th>查询类型</th> <th>解释</th></tr></thead> <tbody><tr><td>SIMPLE</td> <td>表示查询语句不包含子查询或者union</td></tr> <tr><td>PRIMARY</td> <td>表示此查询最外层的查询</td></tr> <tr><td>UNION</td> <td>表示此查询是union的第二个或者后续的查询</td></tr> <tr><td>DEPENDENT UNION</td> <td>union中的第二个或者后续的查询语句使用了外面的查询结果</td></tr> <tr><td>UNION RESULR</td> <td>union的结果</td></tr> <tr><td>SUNQUERY</td> <td>select子查询语句</td></tr> <tr><td>DEPENDENT SUBQUERY</td> <td>select子查询语句依赖外层的查询结果</td></tr></tbody></table></div><ol start="2"><li><p>type: 表示存储引擎查询数据时采用的方式。是一个比较重要的属性，通过它可以判断出查询是全表扫描还是基于索引的部分扫描。</p> <p>它的常见属性如下(从上到下，查询效率依次增强)</p></li></ol> <ul><li>ALL: 全表扫描</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_users \G<span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token number">1.</span> <span class="token keyword">row</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
           id: <span class="token number">1</span>
  select_type: <span class="token keyword">SIMPLE</span>
        <span class="token keyword">table</span>: t_users
   partitions: <span class="token boolean">NULL</span>
         <span class="token keyword">type</span>: <span class="token keyword">ALL</span>
possible_keys: <span class="token boolean">NULL</span>
          <span class="token keyword">key</span>: <span class="token boolean">NULL</span>
      key_len: <span class="token boolean">NULL</span>
          ref: <span class="token boolean">NULL</span>
         <span class="token keyword">rows</span>: <span class="token number">3</span>
     filtered: <span class="token number">100.00</span>
        Extra: <span class="token boolean">NULL</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>index: 基于索引的全表扫描，先扫描索引再扫描全表(在排序上性能优于ALL)</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> id <span class="token keyword">from</span> t_users \G<span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token number">1.</span> <span class="token keyword">row</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
           id: <span class="token number">1</span>
  select_type: <span class="token keyword">SIMPLE</span>
        <span class="token keyword">table</span>: t_users
   partitions: <span class="token boolean">NULL</span>
         <span class="token keyword">type</span>: <span class="token keyword">index</span>
possible_keys: <span class="token boolean">NULL</span>
          <span class="token keyword">key</span>: <span class="token keyword">PRIMARY</span>
      key_len: <span class="token number">8</span>
          ref: <span class="token boolean">NULL</span>
         <span class="token keyword">rows</span>: <span class="token number">3</span>
     filtered: <span class="token number">100.00</span>
        Extra: <span class="token keyword">Using</span> <span class="token keyword">index</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>range: 表示使用索引的范围查询。用&gt;,&gt;=,&lt;,&lt;=等</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_users <span class="token keyword">where</span> id <span class="token operator">&gt;</span> <span class="token number">0</span> \G<span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token number">1.</span> <span class="token keyword">row</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
           id: <span class="token number">1</span>
  select_type: <span class="token keyword">SIMPLE</span>
        <span class="token keyword">table</span>: t_users
   partitions: <span class="token boolean">NULL</span>
         <span class="token keyword">type</span>: range
possible_keys: <span class="token keyword">PRIMARY</span>
          <span class="token keyword">key</span>: <span class="token keyword">PRIMARY</span>
      key_len: <span class="token number">8</span>
          ref: <span class="token boolean">NULL</span>
         <span class="token keyword">rows</span>: <span class="token number">3</span>
     filtered: <span class="token number">100.00</span>
        Extra: <span class="token keyword">Using</span> <span class="token keyword">where</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>ref: 表示使用非唯一索引进行单值查询</li></ul> <p>先为age字段创建索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> t_users <span class="token keyword">add</span> <span class="token keyword">index</span> <span class="token identifier"><span class="token punctuation">`</span>idx_t_user_age<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.21</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_users <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">15</span> \G<span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token number">1.</span> <span class="token keyword">row</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
           id: <span class="token number">1</span>
  select_type: <span class="token keyword">SIMPLE</span>
        <span class="token keyword">table</span>: t_users
   partitions: <span class="token boolean">NULL</span>
         <span class="token keyword">type</span>: ref
possible_keys: idx_t_user_age
          <span class="token keyword">key</span>: idx_t_user_age
      key_len: <span class="token number">4</span>
          ref: const
         <span class="token keyword">rows</span>: <span class="token number">1</span>
     filtered: <span class="token number">100.00</span>
        Extra: <span class="token boolean">NULL</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li>eq_ref: 一般情况下出现在多表join查询，表示前面表的每一行记录，都只能匹配后面表的一行结果</li></ul> <p>创建成绩表t_exam</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> testIndex<span class="token punctuation">.</span>t_exam
<span class="token punctuation">(</span>
	id <span class="token keyword">bigint</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">'自增ID'</span>
		<span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
	user_id <span class="token keyword">bigint</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'用户ID'</span><span class="token punctuation">,</span>
	score <span class="token keyword">int</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'成绩'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> testIndex<span class="token punctuation">.</span>t_exam <span class="token punctuation">(</span>id<span class="token punctuation">,</span> user_id<span class="token punctuation">,</span> score<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">96</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> testIndex<span class="token punctuation">.</span>t_exam <span class="token punctuation">(</span>id<span class="token punctuation">,</span> user_id<span class="token punctuation">,</span> score<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">86</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> testIndex<span class="token punctuation">.</span>t_exam <span class="token punctuation">(</span>id<span class="token punctuation">,</span> user_id<span class="token punctuation">,</span> score<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>采用多表join查询</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_users tu <span class="token keyword">left</span> <span class="token keyword">join</span> t_exam te <span class="token keyword">on</span> tu<span class="token punctuation">.</span>id <span class="token operator">=</span> te<span class="token punctuation">.</span>user_id <span class="token keyword">where</span> te<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">96</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+--------+---------------+---------+---------+----------------------+------+----------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span> <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span>   <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>     <span class="token operator">|</span> key_len <span class="token operator">|</span> ref                  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+--------+---------------+---------+---------+----------------------+------+----------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> te    <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> <span class="token keyword">ALL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span>                 <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>    <span class="token number">33.33</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> tu    <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> eq_ref <span class="token operator">|</span> <span class="token keyword">PRIMARY</span>       <span class="token operator">|</span> <span class="token keyword">PRIMARY</span> <span class="token operator">|</span> <span class="token number">8</span>       <span class="token operator">|</span> testIndex<span class="token punctuation">.</span>te<span class="token punctuation">.</span>user_id <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">100.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>        <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+--------+---------------+---------+---------+----------------------+------+----------+-------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>const: 表示使用主键或者卫衣索引做等值查询</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span> \G<span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token number">1.</span> <span class="token keyword">row</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
           id: <span class="token number">1</span>
  select_type: <span class="token keyword">SIMPLE</span>
        <span class="token keyword">table</span>: t_users
   partitions: <span class="token boolean">NULL</span>
         <span class="token keyword">type</span>: const
possible_keys: <span class="token keyword">PRIMARY</span>
          <span class="token keyword">key</span>: <span class="token keyword">PRIMARY</span>
      key_len: <span class="token number">8</span>
          ref: const
         <span class="token keyword">rows</span>: <span class="token number">1</span>
     filtered: <span class="token number">100.00</span>
        Extra: <span class="token boolean">NULL</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>null: 表示不用访问表，速度最快</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span> <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>  <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> <span class="token boolean">NULL</span>  <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token keyword">No</span> <span class="token keyword">tables</span> used <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span> <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>  <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> <span class="token boolean">NULL</span>  <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token keyword">No</span> <span class="token keyword">tables</span> used <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ol start="3"><li><p>possible_keys: 表示查询时能够使用到的索引，并不一定会真的使用，显示的是索引名称</p></li> <li><p>key: 表示查询时真正用到的索引，显示的是索引名称</p></li> <li><p>rows: MySQL查询优化器根据统计信息，估算要查询到结果需要扫描多少行记录。原则上rows越少效率越高。</p></li> <li><p>key_len: 表示查询使用了索引的字节数量。可以判断是否全部使用了联合索引。</p></li> <li><p>extra: 表示额外信息，通常有以下表现</p></li></ol> <ul><li>using where: 表示查询需要通过索引回表查询数据。即通过普通索引查询出主键，再通过主键查询出数据。</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> age <span class="token keyword">from</span> t_users <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">15</span> <span class="token operator">and</span> name <span class="token operator">=</span> <span class="token string">'张三'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+----------------+----------------+---------+-------+------+----------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>   <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys  <span class="token operator">|</span> <span class="token keyword">key</span>            <span class="token operator">|</span> key_len <span class="token operator">|</span> ref   <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+----------------+----------------+---------+-------+------+----------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> t_users <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> ref  <span class="token operator">|</span> idx_t_user_age <span class="token operator">|</span> idx_t_user_age <span class="token operator">|</span> <span class="token number">4</span>       <span class="token operator">|</span> const <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>    <span class="token number">33.33</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">where</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+----------------+----------------+---------+-------+------+----------+-------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>using index: 表示通过索引就能查询出所需要的数据。<strong>效率最高</strong></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> age <span class="token keyword">from</span> t_users <span class="token keyword">where</span> age<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+----------------+----------------+---------+-------+------+----------+-------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>   <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys  <span class="token operator">|</span> <span class="token keyword">key</span>            <span class="token operator">|</span> key_len <span class="token operator">|</span> ref   <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+----------------+----------------+---------+-------+------+----------+-------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> t_users <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> ref  <span class="token operator">|</span> idx_t_user_age <span class="token operator">|</span> idx_t_user_age <span class="token operator">|</span> <span class="token number">4</span>       <span class="token operator">|</span> const <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">100.00</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">index</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+----------------+----------------+---------+-------+------+----------+-------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>using filesort: 表示查询结果需要额外排序，数据量小在内存，数据量大在磁盘。如果出现这个字段，建议优化SQL</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_users <span class="token keyword">order</span> <span class="token keyword">by</span> id<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>   <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span>  <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>     <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+-------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> t_users <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> <span class="token keyword">index</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token keyword">PRIMARY</span> <span class="token operator">|</span> <span class="token number">8</span>       <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">100.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+-------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_users <span class="token keyword">order</span> <span class="token keyword">by</span> id<span class="token punctuation">,</span>age<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+----------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>   <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>  <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+----------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> t_users <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> <span class="token keyword">ALL</span>  <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">100.00</span> <span class="token operator">|</span> <span class="token keyword">Using</span> filesort <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+----------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>using temproary: 表示查询用到了临时表，一般出现在去重、分组等操作</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> <span class="token keyword">distinct</span> name <span class="token keyword">from</span> t_users<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>   <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>  <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> t_users <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> <span class="token keyword">ALL</span>  <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">100.00</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">temporary</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">explain</span> <span class="token keyword">select</span> name<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> name <span class="token keyword">from</span> t_users <span class="token keyword">group</span> <span class="token keyword">by</span> name<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span>   <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>  <span class="token operator">|</span> key_len <span class="token operator">|</span> ref  <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> t_users <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> <span class="token keyword">ALL</span>  <span class="token operator">|</span> <span class="token boolean">NULL</span>          <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>   <span class="token number">100.00</span> <span class="token operator">|</span> <span class="token keyword">Using</span> <span class="token keyword">temporary</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token keyword">warnings</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="索引失效场景"><a href="#索引失效场景" class="header-anchor">#</a> 索引失效场景</h3> <h4 id="使用原则"><a href="#使用原则" class="header-anchor">#</a> 使用原则</h4> <ol><li><p>使用联合索引应满足最左匹配原则</p></li> <li><p>匹配数据从左至右，遇到范围查询(&gt;、&lt;、between、like)会停止匹配</p></li> <li><p>尽量选择高区分度的字段作为索引</p></li></ol> <p>区分度公式：<code>count(distinct col) / count(*)</code>，表示字段不重复的比例，比例越大扫描的记录数越少。</p> <ol start="4"><li>索引尽量不用在高频更新的字段上，最好用在高频查询字段</li></ol> <h4 id="失效场景"><a href="#失效场景" class="header-anchor">#</a> 失效场景</h4> <ol><li>like '%xx'</li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_users <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%张'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>首字母有序时，后续相对有序，但无法确定首字符时，查询是乱序的。</p> <ol start="2"><li>使用函数</li></ol> <p>比如将索引列放入函数计算中，就无法走索引，比如<code>max(age)</code>。其原因在于，B+树需要把所有元素都应用在函数中才能比较。</p> <ol start="3"><li>or</li></ol> <p>比如<code>a,b,c</code>三个字段，<code>a</code>和<code>b</code>建了索引，<code>c</code>没有建索引</p> <p>当执行如下SQL时，能使用索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">or</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当执行如下SQL时，不能使用索引，a和b的索引失效</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">or</span> b <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">or</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>使用select *</li></ol> <p>select *会采用全表扫描，即使建立了索引，索引也会进行回表，效率低下</p> <ol start="5"><li>字段类型不同</li></ol> <p>比如有个字段age，原本是varchar，但SQL查询时用的int类型传参，虽然查询能够成功，但实际上走的全表扫描，MySQL通过字段的隐式转换保证了SQL执行成功</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="6"><li>不等于</li></ol> <p>普通索引的不等于不会走索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> name <span class="token operator">!=</span><span class="token string">'张三'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>主键索引的不等于会走索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> id <span class="token operator">!</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="7"><li>order by</li></ol> <p>order by排序条件为索引，则select字段必须也是索引字段，否则无法命中索引</p> <p>如果对主键排序，则还是能够走索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">order</span> <span class="token keyword">by</span> id <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="8"><li>范围查询</li></ol> <p>比如<code>a,b,c</code>三个字段，<code>a</code>、<code>b</code>、<code>c</code>都建了索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test <span class="token keyword">where</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> b <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token operator">and</span> c <span class="token operator">=</span> <span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>只有a和b能够走索引，c不能走索引，范围查询就是索引截断处，原因和联合索引一致，在无法确定b有多少数量时，无法保证b的顺序性，在这个前提下导致c无法确定</p> <h3 id="小表驱动大表"><a href="#小表驱动大表" class="header-anchor">#</a> 小表驱动大表</h3> <p>这里补充一个额外的知识，小表驱动大表。</p> <p>首先引入一张网络中流传的经典图，了解<code>left join</code>, <code>inner join</code>, <code>right join</code>等常见结果</p> <div class="center-container"><p><img src="https://image-1-1257237419.cos.ap-chongqing.myqcloud.com/img/mysql-join.png" alt=""></p></div><p>所谓的小表驱动大表，可以理解为用小的数据集去匹配大的数据集。</p> <p>比如表A中有10条数据，表B中有10w条数据，外部执行一次连接，内部要执行多次</p> <p>按照小表驱动大表，A驱动B，则伪代码可写为</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token number">10</span>条<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token number">10</span>w条<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>大表驱动小表，即B驱动A，伪代码可写为</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token number">10</span>w条<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token number">10</span>条<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>两者的主要区别在于：小的循环在外层，表连接需要10次；大的循环在外层，表连接需要10w次。</p> <p><strong>小表驱动大表的目的是为了减少连接创建的次数，加快查询速度</strong>。</p> <p>如何判断驱动表和非驱动表？</p> <p>1 LEFT JOIN左连接, 左边为驱动表, 右边为被驱动表</p> <p>2 RIGHT JOIN右连接, 右边为驱动表, 左边为被驱动表</p> <p>3 INNER JOIN内连接, MySQL会选择数据量比较小的表作为驱动表，大表作为被驱动表</p> <p>4 可通过EXPLANIN查看SQL语句的执行计划, EXPLANIN分析的第一行的表即是驱动表</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>相信读完这篇文章，读者能够对索引和B+树的原理有一定的了解，在开发过程中解决慢SQL最为基本的分析方式可以采用explain，加上索引能够最简单有效的加快查询效率</p> <p>除此之外还可以从网络、MySQL架构(读写分离/冷热备)等方向进行考虑，由于篇幅原因这里暂不介绍了~</p> <h2 id="参考文章"><a href="#参考文章" class="header-anchor">#</a> 参考文章</h2> <blockquote><p>《MySQL45讲》</p> <p><a href="https://www.cnblogs.com/aaabbbcccddd/p/14864982.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/aaabbbcccddd/p/14864982.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.jb51.net/article/229580.htm" target="_blank" rel="noopener noreferrer">https://www.jb51.net/article/229580.htm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://mp.weixin.qq.com/s/SSHWKcuGK5x4Uf7ZBC7stQ" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/SSHWKcuGK5x4Uf7ZBC7stQ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://blog.csdn.net/q736317048/article/details/114415571" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/q736317048/article/details/114415571<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.cnblogs.com/heishuichenzhou/p/10813463.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/heishuichenzhou/p/10813463.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://mp.weixin.qq.com/s/tD_yDXBYfmLqN3BHmhOnfQ" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/tD_yDXBYfmLqN3BHmhOnfQ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://blog.csdn.net/ABestRookie/article/details/117059948" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/ABestRookie/article/details/117059948<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/benym/benym-book/edit/master/docs/04.数据库/01.MySQL/01.MySQL索引原理及应用场景.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=MySQL" title="标签">#MySQL</a><a href="/tags/?tag=%E7%B4%A2%E5%BC%95" title="标签">#索引</a><a href="/tags/?tag=B%2B%E6%A0%91" title="标签">#B+树</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/11/18, 11:15:10</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/1c47ed/"><div>
            优雅的参数校验与全局异常-代码规范的天生落地
            <!----></div></a> <span class="date">02-01</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/ffed02/"><div>
            JMH-基准测试框架
            <!----></div></a> <span class="date">12-29</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/b127c7/"><div>
            MethodHandle结合LambdaMetafactory-使用方法及性能测试
            <!----></div></a> <span class="date">12-27</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:675260709@qq.com" title="邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/benym" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://www.zhihu.com/people/xu-ge-yuan-ba-68" title="知乎" target="_blank" class="iconfont icon-zhihu"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2018-2023
    <span>benym | <a href="https://github.com/benym/benym-book/blob/master/LICENSE" target="_blank">MIT License</a> | <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank">渝ICP备18012574号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.7da65b61.js" defer></script><script src="/assets/js/2.97c812e5.js" defer></script><script src="/assets/js/92.5584b174.js" defer></script><script src="/assets/js/6.d98d2c99.js" defer></script>
  </body>
</html>
